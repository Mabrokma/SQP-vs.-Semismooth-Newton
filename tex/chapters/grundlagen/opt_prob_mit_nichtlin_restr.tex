Wir kommen nun zu unserem allgemeinen nichtlinearen Optimierungsproblem.
Wir schreiben nochmal das Problem~\eqref{prob:opt_prob_mit_nichtlin_restr}.
\begin{align*}
  \min_{x \in \R^n}\ & f(x) \\
              \nb & g_i(x) \leq 0 \text{ für } i = 1,\ldots,p \\
                  & h_j(x) = 0 \text{ für } j = 1,\ldots,m
\end{align*}

\begin{definition}
\emph{(Mangasarian-Fromowitz-Regularitätsbedingung)}\\
Sei $x \in \F$. Mit
$\,\I(x) := \{ i \in \{1,\ldots,p\} \ | \ g_i(x) = 0 \}$
wird die Indexmenge der in $x$ aktiven Ungleichungsrestriktionen bezeichnet.
Seien $g_i$ und $h_j$ differenzierbar in~$x$
für $i=1,\ldots,p$ und $j=1,\ldots,m$.
Der Punkt $x$ erfüllt die Mangasarian-Fromowitz-Regularitätsbedingung,
wenn die Gradienten \mbox{$\nabla h_j(x),\ j = 1,\ldots,m,$} linear unabhängig
sind und ein Vektor $d \in \R^n$ existiert mit
\begin{equation}
  \nabla g_i(x)^T d < 0,\ i \in \I(x)
  \quad \text{und} \quad
  \nabla h_j(x)^T d = 0,\ j = 1,\ldots,m.
\end{equation}
\end{definition}

\begin{theorem}
\emph{(Notwendige Bedingung)}
Sei $\xopt$ eine lokale Lösung des
Problems~\eqref{prob:opt_prob_mit_nichtlin_restr} und $\xopt$ erfülle die
Mangasarian-Fromowitz-Regularitätsbedingung.
Sei $f$ in $\xopt$ differenzierbar.
Dann existieren Vektoren $\lambda \in \R^m$ und $\mu \in \R^p$,
so dass
\begin{align}
  \nabla f(\xopt) + \sum_{i=1}^{m} \lambda_i \nabla h_i(\xopt)
    + \sum_{j=1}^{p} \mu_i \nabla g_j(\xopt) & = 0 \\
  h(\xopt) & = 0 \\
  \mu \geq 0, \quad \mu^T g(\xopt) = 0, \quad g(\xopt) & \leq 0
\end{align}
\end{theorem}

% TODO hinreichende Bedingung?